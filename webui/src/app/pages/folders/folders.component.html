<div class="pad-16" style="background-color: #F4F7FA">
    <div class="row">
        <div class="col-lg-1"></div>
        <div class="col-lg-9">

            <form style="text-align: center" #f="ngForm" (ngSubmit)="onSubmit(f)">
                <section class="form-block">
                    <div class="form-group row">
                        <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                            <label for="folderNumber" i18n>Numéro Dossier</label>
                        </div>
                        <div class="col-lg-2 col-md-4 col-sm-12 col-xs-12">
                            <input class="form-control" type="text" id="folderNumber" name="folderNumber"
                                   i18n-placeholder="Entrez le numéro ici" size="45" ngModel #folderNumber="ngModel" >
                        </div>
                        <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                            <label for="status" i18n>Status</label>
                        </div>
                        <div class="col-lg-4 col-md-8 col-sm-12 col-xs-12">
                            <div class="select form-control">
                                <select id="status" name="status" ngModel #status="ngModel">
                                    <option value=""></option>
                                    <option *ngFor="let st of folderStatus" value="{{st}}">{{st}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-4 col-sm-12 col-xs-12">
                            <button [clrLoading]="validateLoading"  type="submit" class="btn btn-primary" i18n>Recherche</button>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                            <label for="victim" i18n>Victime</label>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                            <input class="form-control" type="text" id="victim" name="victim"
                                   i18n-placeholder="Entrez le nom de la victim" size="45" ngModel #victim="ngModel" >
                        </div>
                        <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                            <label for="guilty" i18n>Coupable</label>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                            <input class="form-control" type="text" id="guilty" name="guilty"
                                   i18n-placeholder="Entrez le nom du coupable" size="45" ngModel #guilty="ngModel" >
                        </div>
                    </div>
                </section>
            </form>
            <ngx-datatable
                [rows]='rows'
                [rowHeight]="'auto'"
                class="material"
                [loadingIndicator]="loadingIndicator"
                [columnMode]="'force'"
                [headerHeight]="50"
                [footerHeight]="50"
                [rowHeight]="'auto'"
                [reorderable]="reorderable">
                <ngx-datatable-column name="Status" prop="status">
                    <ng-template let-column="column" ngx-datatable-header-template>
                        <span i18n>Status</span>
                    </ng-template>
                    <ng-template let-value="value" ngx-datatable-cell-template>
                        <strong>{{value}}</strong>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Victimes" prop="victims">
                    <ng-template let-column="column" ngx-datatable-header-template>
                        <span i18n>Victimes</span>
                    </ng-template>
                    <ng-template #folderVictimsTpl let-row="row" let-value="value" ngx-datatable-cell-template>
                        <ul>
                            <li  *ngFor="let v of value">
                                {{v.lastName}}&nbsp;{{v.firstName}}
                            </li>
                        </ul>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Coupables" prop="guilties">
                    <ng-template let-column="column" ngx-datatable-header-template>
                        <span i18n>Coupables</span>
                    </ng-template>
                    <ng-template #folderGuiltiesTpl let-row="row" let-value="value" ngx-datatable-cell-template>
                        <ul>
                            <li  *ngFor="let g of row.guilties">
                                {{g.lastName}}&nbsp;{{g.firstName}}
                            </li>
                        </ul>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Date de création" prop="createDate">
                    <ng-template let-column="column" ngx-datatable-header-template>
                        <span i18n>Date de création</span>
                    </ng-template>
                    <ng-template let-value="value" ngx-datatable-cell-template>
                        {{value | date :'full':'':'ar-DZ'}}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Date dernière modification" prop="lastModifDate">
                    <ng-template let-column="column" ngx-datatable-header-template>
                        <span i18n>Date dernière modification</span>
                    </ng-template>
                    <ng-template let-value="value" ngx-datatable-cell-template>
                        {{value | date : 'long':'':'ar'}}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Date clôture" prop="closeDate">
                    <ng-template let-column="column" ngx-datatable-header-template>
                        <span i18n>Date clôture</span>
                    </ng-template>
                    <ng-template let-value="value" ngx-datatable-cell-template>
                        {{value | date : 'full':'':'ar'}}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Numéro" prop="number">
                    <ng-template let-column="column" ngx-datatable-header-template>
                        <span i18n>Numéro</span>
                    </ng-template>
                    <ng-template #folderNumberTpl let-row="row" let-value="value" let-i="index" ngx-datatable-cell-template>
                        <a routerLink="" attr.data-itemid="{{value}}">{{value}}</a>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-footer>
                    <ng-template
                        ngx-datatable-footer-template
                        let-rowCount="rowCount"
                        let-pageSize="pageSize"
                        let-selectedCount="selectedCount"
                        let-curPage="curPage"
                        let-offset="offset">
                        <div style="padding: 5px 10px">
                            <div>
                                <strong i18n>Totale</strong>:&nbsp;{{rowCount}}
                            </div>
                        </div>
                    </ng-template>
                </ngx-datatable-footer>
            </ngx-datatable>

        </div>
        <div class="col-lg-1"></div>
    </div>
</div>

<div id="container-floating">

    <div id="floating-button" data-toggle="tooltip" data-placement="left" data-original-title="Create" (click)="basic = true">
        <span class="floating-button-label" i18n>Créer un dossier</span>
        <p class="plus">+</p>
        <img class="edit" src="https://ssl.gstatic.com/bt/C3341AA7A1A076756462EE2E5CD71C11/1x/bt_compose2_1x.png">
    </div>

</div>

<clr-modal [(clrModalOpen)]="basic">
    <h3 class="modal-title" i18n>Création d'un dossier</h3>
    <div class="modal-body">
        <form>
            <section class="form-block">
                <div class="form-group row">
                    <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                        <label for="gFolderNumber" i18n>Numéro dossier</label>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                        <input class="form-control" type="text" id="gFolderNumber" i18n-placeholder="Entrer votre valeur ici" size="45">
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                        <input class="form-control" type="text" id="gFolderYear" i18n-placeholder="Entrer votre valeur ici" size="35">
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                        <label for="gVictime" i18n>Victime</label>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                        <input class="form-control" type="text" id="gVictime" i18n-placeholder="Entrer votre valeur ici" size="45">
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                        <label for="gCoupable" i18n>Coupable</label>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                        <input class="form-control" type="text" id="gCoupable" i18n-placeholder="Entrer votre valeur ici" size="45">
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                        <label for="gForm_3">Select box</label>
                    </div>
                    <div class="col-lg-4 col-md-8 col-sm-12 col-xs-12">
                        <div class="select form-control">
                            <select id="gForm_3">
                                <option>Option 1</option>
                                <option>Option 2</option>
                                <option>Option 3</option>
                                <option>Option 4</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                        <label for="gForm_4">Text area</label>
                    </div>
                    <div class="col-lg-10 col-md-12 col-sm-12 col-xs-12">
                        <textarea id="gForm_4" rows="5" class="form-control"></textarea>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                        <label>Another select box</label>
                    </div>
                    <div class="col-lg-4 col-md-5 col-sm-12 col-xs-12">
                        <div class="select form-control">
                            <select id="exampleSelect1">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-5 col-sm-12 col-xs-12">
                        <span>Sockets: 1</span>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                        <label for="gForm_3">Other form fields</label>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-12 col-xs-12">
                        <div class="toggle-switch">
                            <input type="checkbox" id="othertoggle">
                            <label for="othertoggle">Toggle</label>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                        <div class="checkbox-inline">
                            <input type="checkbox" id="othercheckbox" checked>
                            <label for="othercheckbox">Inline Checkbox</label>
                        </div>
                    </div>
                </div>
            </section>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline" (click)="basic = false">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="basic = false">Valider</button>
    </div>
</clr-modal>

<ng-template #folderNumberTpl let-row="row" let-value="value" let-i="index">
    <a routerLink="" attr.data-itemid="{{value}}">{{value}}</a>
</ng-template>


<ng-template #folderStatusCellTpl let-row="row" let-value="value" let-i="index">
    <s-badge [text]=value [badgeCls]="'s-badge-'+value.toLowerCase().replace(' ','')"></s-badge>
</ng-template>

<ng-template #folderVictimsTpl let-row="row" let-value="value">
    <ul>
        <li  *ngFor="let v of row.victims">
            {{v.lastName}}&nbsp;{{v.firstName}}
        </li>
    </ul>
</ng-template>

<ng-template #folderGuiltiesTpl let-row="row" let-value="value">
    <ul>
        <li  *ngFor="let g of row.guilties">
            {{g.lastName}}&nbsp;{{g.firstName}}
        </li>
    </ul>
</ng-template>

